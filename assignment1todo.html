<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment1</title>
</head>
<body>
    <div id="container">
        <table id="countryData">

        </table>
    </div>
    
    <script>
        // Api Fetch and Display Data


    let country = prompt("enter country name").toLocaleLowerCase();
    let url = `https://restcountries.com/v3.1/name/${country}`;
    var data = [];
    async function fetchData () {
        let fetchedData = await fetch(url); 
        fetchedData =  await fetchedData.json();
        let flag = fetchedData[0].flags.png;
        let language = fetchedData[0].name.nativeName;
        for ([key, value] of Object.entries(language)) {
            var objectData = {
                name: value.official,
                language:key
            }
            document.getElementById("container").innerHTML = `
                <h1>name: ${value.official}</h1>
                <h1>language:${key}</h1>
            `
        data.push(objectData);
        console.log(data);
        }
    }
    fetchData();

    // 
    var logOne = setTimeout(function() {
        console.log("one!");
        }, Math.random() * 2000);
    var logTwo = setTimeout(function() {
        console.log("two!");
        }, Math.random() * 1000);

    function inOrder (logOne, logTwo) {
        let myPromise = new Promise(function(myResolve, myReject) {
            let x = 0;
            if (x == 0) {
                myResolve(logOne);
            } else {
                myReject("Error");
            }
        })

        myPromise.then(res => {
        let myPromise2 = new Promise(function(myResolve, myReject) {
            let x = 0;
            if (x == 0) {
                myResolve(logTwo);
            } else {
                myReject("Error");
            }
        })
    }).catch(err =>console.log(err));
    
    }    
    inOrder(logOne, logTwo);
    </script>
</body>
</html>
